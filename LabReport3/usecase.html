<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>GoLady – Clean Use Case Diagram (Per-Actor Views)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    /* Light theme for clarity */
    --bg:#f8fafc;
    --card:#ffffff;
    --ink:#0f172a;
    --muted:#475569;
    --system:#eef2ff;
    --border:#cbd5e1;
    --ucfill:#ffffff;
    --ucstroke:#3b82f6;

    /* actor/edge colors */
    --rider:#06b6d4;   /* cyan */
    --driver:#22c55e;  /* green */
    --admin:#f59e0b;   /* amber */
    --include:#7c3aed; /* purple */
    --extend:#ef4444;  /* red */
    --external:#64748b;/* slate */
  }
  *{box-sizing:border-box}
  html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);
    font:14px/1.45 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}
  .wrap{max-width:1180px;margin:0 auto;padding:18px}

  .panel{background:var(--card);border:1px solid var(--border);
    border-radius:14px;padding:12px 14px;margin-bottom:12px;
    box-shadow:0 6px 24px rgba(2,6,23,.06)}
  h1{margin:.2rem 0 .4rem;font-size:20px}
  .legend{color:var(--muted)}

  /* Tabs */
  .tabs{display:flex;gap:8px;flex-wrap:wrap;margin:.6rem 0}
  .tabbtn{border:1px solid var(--border);background:#fff;border-radius:999px;
    padding:6px 12px;cursor:pointer}
  .tabbtn.active{background:#e0f2fe;border-color:#7dd3fc}

  /* Filters */
  .filters{display:flex;gap:10px;flex-wrap:wrap;margin:.3rem 0 .8rem}
  .chip{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--border);
    background:#fff;border-radius:999px;padding:6px 10px;cursor:pointer}
  .chip input{accent-color:#3b82f6}
  .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
  .r{background:var(--rider)} .d{background:var(--driver)} .a{background:var(--admin)}
  .i{background:var(--include)} .e{background:var(--extend)} .x{background:var(--external)}

  svg{width:100%;height:auto;display:block;border:1px solid var(--border);
    border-radius:16px;background:#fbfdff}
  .system{fill:var(--system);stroke:#a5b4fc;stroke-width:2}
  .extbox{fill:#eef2f7;stroke:#9aa8be;stroke-width:1.5;rx:10;ry:10}
  .ext-label,.actor-label,.uc-label,.caption{fill:var(--ink);font-size:12px}
  .actor{stroke:var(--ink);stroke-width:2;fill:none}
  .uc{fill:var(--ucfill);stroke:var(--ucstroke);stroke-width:1.4}
  .assoc{fill:none;stroke:#9ca3af;stroke-width:1.4}
  .assoc.rider{stroke:var(--rider)} .assoc.driver{stroke:var(--driver)} .assoc.admin{stroke:var(--admin)}
  .incl{stroke:var(--include);stroke-width:1.4;stroke-dasharray:6 5}
  .extd{stroke:var(--extend);stroke-width:1.4;stroke-dasharray:6 5}
  .extlink{stroke:var(--external);stroke-width:1.2}
  .incl-label,.extd-label{font-size:11px;font-style:italic;fill:#334155}

  /* subtle hover */
  .uc:hover{stroke:#60a5fa}
  .assoc:hover,.incl:hover,.extd:hover,.extlink:hover{filter:drop-shadow(0 0 6px rgba(59,130,246,.45))}

  /* hide via filters */
  .hidden{display:none}

  /* emphasis when a tab is selected */
  .dim{opacity:.25}
</style>
</head>
<body>
<div class="wrap">
  <div class="panel">
    <h1>GoLady – Use Case Diagram (Clear Layout)</h1>
    <div class="legend">Tabs দিয়ে Actor-wise view, আর নিচের চেকবক্সে রেখেছো «include», «extend», External links টগল।</div>

    <!-- Tabs -->
    <div class="tabs">
      <button class="tabbtn active" data-tab="rider">Rider View</button>
      <button class="tabbtn" data-tab="driver">Driver View</button>
      <button class="tabbtn" data-tab="admin">Admin View</button>
      <button class="tabbtn" data-tab="all">All (Everything)</button>
    </div>

    <!-- Filters -->
    <div class="filters">
      <label class="chip"><span class="dot i"></span><input type="checkbox" id="f-include" checked> «include»</label>
      <label class="chip"><span class="dot e"></span><input type="checkbox" id="f-extend" checked> «extend»</label>
      <label class="chip"><span class="dot x"></span><input type="checkbox" id="f-external"> External Links</label>
    </div>
  </div>

  <!-- Diagram (manual layout to reduce crossings) -->
  <svg viewBox="0 0 1180 760" aria-label="GoLady Use Case Diagram">
    <!-- System boundary -->
    <rect x="230" y="100" width="720" height="560" class="system"/>
    <text x="590" y="95" class="caption" text-anchor="middle">GoLady System</text>

    <!-- ========== Actors ========== -->
    <g id="actor-rider">
      <circle cx="90" cy="190" r="18" class="actor"/>
      <line x1="90" y1="208" x2="90" y2="250" class="actor"/>
      <line x1="70" y1="222" x2="110" y2="222" class="actor"/>
      <line x1="90" y1="250" x2="72" y2="282" class="actor"/>
      <line x1="90" y1="250" x2="108" y2="282" class="actor"/>
      <text x="90" y="305" class="actor-label" text-anchor="middle">Rider (Woman)</text>
    </g>

    <g id="actor-driver">
      <circle cx="90" cy="520" r="18" class="actor"/>
      <line x1="90" y1="538" x2="90" y2="580" class="actor"/>
      <line x1="70" y1="552" x2="110" y2="552" class="actor"/>
      <line x1="90" y1="580" x2="72" y2="612" class="actor"/>
      <line x1="90" y1="580" x2="108" y2="612" class="actor"/>
      <text x="90" y="635" class="actor-label" text-anchor="middle">Driver (Woman)</text>
    </g>

    <g id="actor-admin">
      <circle cx="1090" cy="340" r="18" class="actor"/>
      <line x1="1090" y1="358" x2="1090" y2="400" class="actor"/>
      <line x1="1070" y1="372" x2="1110" y2="372" class="actor"/>
      <line x1="1090" y1="400" x2="1072" y2="432" class="actor"/>
      <line x1="1090" y1="400" x2="1108" y2="432" class="actor"/>
      <text x="1090" y="455" class="actor-label" text-anchor="middle">Admin</text>
    </g>

    <!-- ========== External Systems (right/top) ========== -->
    <g id="ext" class="hidden">
      <rect x="1000" y="90" width="150" height="40" class="extbox"/>
      <text x="1075" y="114" class="ext-label" text-anchor="middle">Social Auth</text>

      <rect x="1000" y="480" width="150" height="40" class="extbox"/>
      <text x="1075" y="504" class="ext-label" text-anchor="middle">SMS / Email</text>

      <rect x="1000" y="560" width="150" height="40" class="extbox"/>
      <text x="1075" y="584" class="ext-label" text-anchor="middle">Payment Gateway</text>

      <rect x="540" y="20" width="180" height="40" class="extbox"/>
      <text x="630" y="44" class="ext-label" text-anchor="middle">Maps / Geocoding</text>
    </g>

    <!-- ========== Use Cases (placed in tidy columns) ========== -->
    <!-- Top row (accounts) -->
    <ellipse cx="350" cy="150" rx="112" ry="30" class="uc" id="uc-login"/>
    <text x="350" y="154" class="uc-label" text-anchor="middle">Register / Login</text>

    <ellipse cx="560" cy="150" rx="120" ry="30" class="uc" id="uc-profile"/>
    <text x="560" y="154" class="uc-label" text-anchor="middle">Manage Profile</text>

    <ellipse cx="780" cy="150" rx="138" ry="30" class="uc" id="uc-verify"/>
    <text x="780" y="154" class="uc-label" text-anchor="middle">Verify Driver Documents</text>

    <!-- Booking row -->
    <ellipse cx="330" cy="250" rx="112" ry="30" class="uc" id="uc-request"/>
    <text x="330" y="254" class="uc-label" text-anchor="middle">Request Ride</text>

    <ellipse cx="520" cy="250" rx="118" ry="30" class="uc" id="uc-fare"/>
    <text x="520" y="254" class="uc-label" text-anchor="middle">Get Fare Estimate</text>

    <ellipse cx="730" cy="250" rx="130" ry="30" class="uc" id="uc-match"/>
    <text x="730" y="254" class="uc-label" text-anchor="middle">Match Rider & Driver</text>

    <ellipse cx="330" cy="305" rx="132" ry="28" class="uc" id="uc-women"/>
    <text x="330" y="309" class="uc-label" text-anchor="middle">Women-Driver-Only</text>
    <text x="330" y="330" class="incl-label" text-anchor="middle">«include»</text>

    <!-- Trip row -->
    <ellipse cx="520" cy="350" rx="120" ry="30" class="uc" id="uc-startend"/>
    <text x="520" y="354" class="uc-label" text-anchor="middle">Start / End Trip</text>

    <ellipse cx="520" cy="425" rx="120" ry="30" class="uc" id="uc-live"/>
    <text x="520" y="429" class="uc-label" text-anchor="middle">Live Trip Tracking</text>

    <ellipse cx="740" cy="350" rx="140" ry="30" class="uc" id="uc-accept"/>
    <text x="740" y="354" class="uc-label" text-anchor="middle">Accept / Reject Ride</text>

    <ellipse cx="740" cy="425" rx="160" ry="30" class="uc" id="uc-nav"/>
    <text x="740" y="429" class="uc-label" text-anchor="middle">Navigate to Pickup / Drop</text>

    <ellipse cx="900" cy="320" rx="118" ry="28" class="uc" id="uc-notif"/>
    <text x="900" y="324" class="uc-label" text-anchor="middle">Notifications</text>

    <!-- Bottom row -->
    <ellipse cx="380" cy="510" rx="110" ry="30" class="uc" id="uc-pay"/>
    <text x="380" y="514" class="uc-label" text-anchor="middle">Payments</text>

    <ellipse cx="520" cy="510" rx="118" ry="30" class="uc" id="uc-history"/>
    <text x="520" y="514" class="uc-label" text-anchor="middle">Trip History</text>

    <ellipse cx="620" cy="575" rx="118" ry="30" class="uc" id="uc-rate"/>
    <text x="620" y="579" class="uc-label" text-anchor="middle">Rate & Review</text>

    <ellipse cx="320" cy="425" rx="138" ry="30" class="uc" id="uc-sos"/>
    <text x="320" y="429" class="uc-label" text-anchor="middle">SOS / Incident Report</text>

    <!-- Admin panel set -->
    <ellipse cx="890" cy="425" rx="138" ry="30" class="uc" id="uc-analytics"/>
    <text x="890" y="429" class="uc-label" text-anchor="middle">Analytics Dashboard</text>

    <ellipse cx="890" cy="510" rx="138" ry="30" class="uc" id="uc-user"/>
    <text x="890" y="514" class="uc-label" text-anchor="middle">User Management</text>

    <ellipse cx="890" cy="575" rx="138" ry="30" class="uc" id="uc-dispute"/>
    <text x="890" y="579" class="uc-label" text-anchor="middle">Dispute Resolution</text>

    <!-- ========== Associations (kept tidy, mostly horizontal) ========== -->
    <!-- Rider connections -->
    <path d="M108,222 C190,190 270,165 300,160" class="assoc rider" data-actor="rider"/>  <!-- login -->
    <path d="M108,222 C220,205 420,165 440,160" class="assoc rider" data-actor="rider"/>  <!-- profile -->
    <path d="M108,222 C180,235 240,245 250,250" class="assoc rider" data-actor="rider"/>  <!-- request -->
    <path d="M108,222 C240,240 420,243 440,246" class="assoc rider" data-actor="rider"/>  <!-- fare -->
    <path d="M108,222 C260,280 440,330 460,342" class="assoc rider" data-actor="rider"/>  <!-- start/end -->
    <path d="M108,222 C260,310 440,400 460,418" class="assoc rider" data-actor="rider"/>  <!-- live -->
    <path d="M108,222 C170,350 250,410 250,425" class="assoc rider" data-actor="rider"/>  <!-- sos -->
    <path d="M108,222 C210,480 300,510 330,510" class="assoc rider" data-actor="rider"/>  <!-- pay -->
    <path d="M108,222 C250,500 470,510 470,510" class="assoc rider" data-actor="rider"/>  <!-- history -->
    <path d="M108,222 C320,530 540,565 560,575" class="assoc rider" data-actor="rider"/>  <!-- rate -->
    <path d="M108,222 C540,190 820,300 870,314" class="assoc rider" data-actor="rider"/>  <!-- notifications -->

    <!-- Driver connections -->
    <path d="M108,552 C220,510 420,165 440,160" class="assoc driver" data-actor="driver"/>   <!-- profile -->
    <path d="M108,552 C260,540 690,150 700,150" class="assoc driver" data-actor="driver"/>   <!-- verify -->
    <path d="M108,552 C220,500 600,345 620,342" class="assoc driver" data-actor="driver"/>   <!-- start/end -->
    <path d="M108,552 C260,560 600,350 640,350" class="assoc driver" data-actor="driver"/>   <!-- accept -->
    <path d="M108,552 C300,595 600,430 640,425" class="assoc driver" data-actor="driver"/>   <!-- navigate -->
    <path d="M108,552 C200,520 260,480 260,425" class="assoc driver" data-actor="driver"/>   <!-- sos -->
    <path d="M108,552 C540,520 840,330 865,320" class="assoc driver" data-actor="driver"/>   <!-- notifications -->
    <path d="M108,552 C210,420 260,170 300,160" class="assoc driver" data-actor="driver"/>   <!-- login -->
    <path d="M108,552 C240,520 420,510 450,510" class="assoc driver" data-actor="driver"/>   <!-- history -->

    <!-- Admin connections -->
    <path d="M1072,372 C1020,410 960,505 945,510" class="assoc admin" data-actor="admin"/>    <!-- user mgmt -->
    <path d="M1072,372 C1020,450 960,570 945,575" class="assoc admin" data-actor="admin"/>    <!-- dispute -->
    <path d="M1072,372 C1020,400 960,425 945,425" class="assoc admin" data-actor="admin"/>    <!-- analytics -->
    <path d="M1072,372 C1000,260 880,180 840,165" class="assoc admin" data-actor="admin"/>    <!-- verify -->

    <!-- Includes -->
    <path d="M330,250 C365,250 480,250 460,250" class="incl" data-rel="include"/>
    <text x="400" y="242" class="incl-label">«include»</text>

    <path d="M330,250 C430,250 630,250 664,250" class="incl" data-rel="include"/>
    <text x="520" y="242" class="incl-label">«include»</text>

    <path d="M330,250 C330,268 330,286 330,296" class="incl" data-rel="include"/>
    <text x="344" y="285" class="incl-label">«include»</text>

    <path d="M520,350 C520,368 520,386 520,404" class="incl" data-rel="include"/>
    <text x="532" y="394" class="incl-label">«include»</text>

    <path d="M520,350 C520,410 520,472 520,494" class="incl" data-rel="include"/>
    <text x="532" y="470" class="incl-label">«include»</text>

    <!-- Extends -->
    <path d="M440,510 C462,510 484,510 500,510" class="extd" data-rel="extend"/>
    <text x="472" y="502" class="extd-label">«extend»</text>

    <path d="M388,425 C520,395 760,360 842,340" class="extd" data-rel="extend"/>
    <text x="625" y="356" class="extd-label">«extend»</text>

    <path d="M798,350 C832,340 862,334 882,332" class="extd" data-rel="extend"/>
    <text x="842" y="324" class="extd-label">«extend»</text>

    <!-- External links (off by default) -->
    <g id="extlinks" class="hidden">
      <path d="M462,150 C720,130 985,118 1000,112" class="extlink"/>
      <path d="M440,250 C520,175 560,90 630,60" class="extlink"/>
      <path d="M600,250 C610,175 610,110 630,60" class="extlink"/>
      <path d="M740,425 C720,380 665,110 630,60" class="extlink"/>
      <path d="M380,510 C720,530 980,572 1000,580" class="extlink"/>
      <path d="M900,320 C980,372 1000,480 1000,500" class="extlink"/>
    </g>

    <text x="590" y="720" class="caption" text-anchor="middle">
      Tip: ট্যাব বদলালে কেবল সেই Actor-এর ভিউ হাইলাইট হবে—ক্লাটার একদম কম।
    </text>
  </svg>
</div>

<script>
  // Helpers
  const $ = (sel, ctx=document)=>ctx.querySelector(sel);
  const $$ = (sel, ctx=document)=>Array.from(ctx.querySelectorAll(sel));

  // Tabs
  const tabs = $$('.tabbtn');
  function setTab(mode){
    tabs.forEach(b=>b.classList.toggle('active', b.dataset.tab===mode));
    // dim / show edges by actor
    const allEdges = $$('.assoc');
    const riders = $$('.assoc.rider');
    const drivers = $$('.assoc.driver');
    const admins = $$('.assoc.admin');

    // reset dim
    allEdges.forEach(e=>e.classList.remove('dim'));
    $$('.uc').forEach(u=>u.classList.remove('dim'));

    if(mode==='rider'){
      drivers.concat(admins).forEach(e=>e.classList.add('dim'));
      // dim admin-specific UC
      ['#uc-analytics','#uc-user','#uc-dispute'].forEach(id => $(id).classList.add('dim'));
    } else if(mode==='driver'){
      riders.concat(admins).forEach(e=>e.classList.add('dim'));
      ['#uc-analytics','#uc-user','#uc-dispute'].forEach(id => $(id).classList.add('dim'));
    } else if(mode==='admin'){
      riders.concat(drivers).forEach(e=>e.classList.add('dim'));
      // dim non-admin UCs a bit
      ['#uc-request','#uc-women','#uc-fare','#uc-match','#uc-startend','#uc-live','#uc-nav','#uc-sos','#uc-pay','#uc-history','#uc-rate']
        .forEach(id => $(id).classList.add('dim'));
    } // 'all' leaves everything normal
  }
  tabs.forEach(b=>b.addEventListener('click', ()=>setTab(b.dataset.tab)));
  setTab('rider'); // default clean view

  // Filters
  const fInc = $('#f-include'), fExt = $('#f-extend'), fEx = $('#f-external');
  function applyFilters(){
    $$('.incl, .incl-label').forEach(e=>e.classList.toggle('hidden', !fInc.checked));
    $$('.extd, .extd-label').forEach(e=>e.classList.toggle('hidden', !fExt.checked));
    $('#ext').classList.toggle('hidden', !fEx.checked);
    $('#extlinks').classList.toggle('hidden', !fEx.checked);
  }
  [fInc,fExt,fEx].forEach(i=>i.addEventListener('change', applyFilters));
  applyFilters();
</script>
</body>
</html>
